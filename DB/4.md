# 5. 데이터베이스 샤딩 / 파티셔닝에 대해 설명해주세요.

## 핵심 답변

> 키워드 : 샤딩, 파티셔닝, 수평 파티셔닝, 수직 파티셔닝

> **샤딩과 파티셔닝 모두 DB를 쪼개거나 분할하는 행위**입니다.
> 
> **샤딩은 하나의 인스턴스 내에서 여러 테이블로 나누어 저장하는 기법입니다. 즉 기준이 테이블**입니다.
> 
> 샤딩은 여러 인스턴스에 여러 서브셋 데이터를 저장하는 기법입니다. 즉 기준이 DB입니다.
> 
> 
> **파티셔닝**은 **수직 파티셔닝**과 **수평 파티셔닝**으로 나뉘는데, **데이터의 일부 컬럼을 기준으로 나누어 분할하는 기술**입니다.
> **수평 파티셔닝은 범위가 큰 테이블에서 각각 로우를 다른 테이블로 분산시키는 기술**입니다.
> 
> **샤딩은 수평 분할처럼 로우를 기준으로 분할**합니다. 하지만 **샤딩은 분할한 것을 다른 데이터베이스에 저장**하지만,
> **수평 분할은 다른 테이블에 저장한다는점이 다릅니다.**


<br/>

# 추가 학습

<br/>

## 샤딩과 파티셔닝의 장단점을 설명해보세요.

> 키워드 : 샤딩-파티셔닝 장단점

> **샤드 장단점**
> 
> **샤딩은 자주 사용하는 칼럼을 분리하여 성능을 높이고, 같은 데이터가 저장되기 때문에 데이터 압축률이 상승**됩니다.
> 또한 쿼리를 여러 인스턴스로 분산처리하기 때문에 성능과 안전성, 확정성 측면에서 좋습니다.
> 
> 하지만 다른 샤드끼리 join할 수 없으며, 하나의 트랜잭션에서 두개 이상의 샤드에 접근할 수 없고,
> auto increment가 샤드 별로 달라질 수 있는 등의 문제도 있습니다.
> 
> **파티셔닝 장단점**
> 
> **파티셔닝은 데이터의 개수를 기준으로 파티셔닝하기 때문에 직관적**이며 효율적인 관리가 가능합니다. 또한  또한 데이터를 여러 테이블에 나눠서
> **저장함으로써 인덱스의 크기가 작아지기 때문에 인덱스를 통한 조회시간 줄어들고 성능이 향상**됩니다.
> 
> 하지만 파티셔닝은 테이블간 join 비용이 증가합니다.
> 
> **또한 샤딩과 파티셔닝 두 방법 모두 데이터를 찾는 과정이 기존보다 복잡해져서 지연시간이 발생할 수 있다는 단점**이 있습니다.
